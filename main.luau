--[[
    BFS Scripts v2.0
    Script de automatizaci√≥n para Blox Fruits
    Compatible con Delta Executor v2.702.622
    Autor: Emir5021-Gob
    Repositorio: github.com/Emir5021-Gob/BFS
]]

print("üöÄ BFS Scripts v2.0 - Iniciando...")

-- Configuraci√≥n del repositorio
local REPO_URL = "https://raw.githubusercontent.com/Emir5021-Gob/BFS/refs/heads/main/Scripts-main/"

-- Tabla de juegos soportados
local SUPPORTED_GAMES = {
    [2753915549] = {Name = "Blox Fruits [Sea 1]", Script = "BloxFruits.lua"},
    [4442272183] = {Name = "Blox Fruits [Sea 2]", Script = "BloxFruits.lua"},
    [7449423635] = {Name = "Blox Fruits [Sea 3]", Script = "BloxFruits.lua"},
}

-- Obtener configuraci√≥n del usuario
local UserSettings = {...}
local Settings = {
    Team = "Pirates", -- Pirates o Marines
    AutoFarm = true,
    AutoStats = true,
    SafeMode = true,
}

-- Aplicar configuraci√≥n del usuario
if UserSettings[1] and type(UserSettings[1]) == "table" then
    for key, value in pairs(UserSettings[1]) do
        Settings[key] = value
    end
end

-- Funci√≥n para descargar c√≥digo
local function DownloadScript(url)
    local success, result = pcall(function()
        return game:HttpGet(url)
    end)
    
    if not success then
        warn("‚ùå Error al descargar:", url)
        warn("Detalles:", result)
        return nil
    end
    
    return result
end

-- Funci√≥n para cargar y ejecutar c√≥digo
local function LoadScript(scriptName)
    print("üì• Descargando:", scriptName)
    local code = DownloadScript(REPO_URL .. "Games/" .. scriptName)
    
    if not code then
        error("No se pudo descargar el script")
        return
    end
    
    print("‚úÖ C√≥digo descargado")
    print("‚öôÔ∏è Ejecutando script...")
    
    local func, err = loadstring(code)
    if not func then
        warn("‚ùå Error de sintaxis:", err)
        error("El script tiene errores de sintaxis")
        return
    end
    
    return func
end

-- Detectar juego actual
local currentPlaceId = game.PlaceId
local gameInfo = SUPPORTED_GAMES[currentPlaceId]

if not gameInfo then
    warn("‚ö†Ô∏è Juego no soportado")
    warn("PlaceId actual:", currentPlaceId)
    warn("Juegos soportados:")
    for placeId, info in pairs(SUPPORTED_GAMES) do
        warn("-", info.Name, "(PlaceId:", placeId .. ")")
    end
    return
end

print("‚úÖ Juego detectado:", gameInfo.Name)
print("üì¶ Cargando script...")

-- Cargar y ejecutar el script del juego
local GameScript = LoadScript(gameInfo.Script)
if GameScript then
    local success, err = pcall(GameScript, Settings)
    if not success then
        warn("‚ùå Error al ejecutar:", err)
    end
end
