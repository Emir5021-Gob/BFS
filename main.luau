--[[
    BFS Scripts v4.2 ULTIMATE
    Loader Principal
]]

-- Configuraci√≥n
local REPO = "https://raw.githubusercontent.com/Emir5021-Gob/BFS/main/Games/"

-- IDs de juego soportados
local GAMES = {
    [2753915549] = "BloxFruits.luau", -- Sea 1
    [4442272183] = "BloxFruits.luau", -- Sea 2
    [7449423635] = "BloxFruits.luau", -- Sea 3
}

-- Detectar juego
local placeId = game.PlaceId
local scriptName = GAMES[placeId]

print("=" .. string.rep("=", 50))
print("üöÄ BFS SCRIPTS v4.2 ULTIMATE")
print("=" .. string.rep("=", 50))
print("üéÆ PlaceId:", placeId)

-- Verificar si el juego es soportado
if not scriptName then
    warn("‚ö†Ô∏è JUEGO NO SOPORTADO")
    warn("PlaceId actual:", placeId)
    warn("Juegos soportados:")
    warn("  ‚Ä¢ 2753915549 - Blox Fruits Sea 1")
    warn("  ‚Ä¢ 4442272183 - Blox Fruits Sea 2")
    warn("  ‚Ä¢ 7449423635 - Blox Fruits Sea 3")
    return
end

print("‚úÖ Juego detectado:", scriptName)

-- Descargar el script
local url = REPO .. scriptName
print("üì• Descargando:", url)

local code
local downloadSuccess, downloadError = pcall(function()
    code = game:HttpGet(url, true)
end)

if not downloadSuccess then
    warn("‚ùå ERROR EN DESCARGA:")
    warn(tostring(downloadError))
    return
end

if not code or code == "" then
    warn("‚ùå ERROR: Script vac√≠o o no encontrado")
    return
end

print("‚úÖ Descargado:", #code, "bytes")
print("‚öôÔ∏è Compilando...")

-- Compilar el script
local func, compileError = loadstring(code)

if not func then
    warn("‚ùå ERROR DE COMPILACI√ìN:")
    warn(tostring(compileError))
    -- Mostrar primeras l√≠neas con error
    local lines = {}
    for line in code:gmatch("[^\r\n]+") do
        table.insert(lines, line)
    end
    warn("Total de l√≠neas:", #lines)
    return
end

print("‚úÖ Compilaci√≥n exitosa")
print("üéÆ Ejecutando script...")

-- Ejecutar el script SIN PCALL para ver errores reales
func()

print("‚úÖ BFS Scripts cargado completamente!")

